this.window[APP_NAME].controller("NotificationsController",["$scope","$http","$pusher",function(t,n,e){var i,a,r,o,u,c;return a=["exam","appointment","surgery"],i=["Exame","Consulta","Cirurgia"],r=function(){return u(),c()},c=function(){var n,i,a;return i=new Pusher(PUSHER_KEY),a=e(i),n=a.subscribe("notification_channel"),n.bind("new_notification",function(n){return t.notifications.unshift(n)})},u=function(){return n({url:"/api/v1/notifications.json?user_id=:user_id".replace(":user_id",USER_ID),method:"get"}).success(function(n){return t.notifications=n.notifications})},t.getNotificationCategorySlug=function(t){return a[t]},t.getNotificationCategoryName=function(t){return i[t]},t.createNotification=function(e){var i,a;return e.preventDefault(),i=0===angular.element(e.target).find('input[name="notification[category]"]:checked').length?"":angular.element(e.target).find('input[name="notification[category]"]:checked')[0].value,a={authenticity_token:angular.element(e.target).find("input[name=authenticity_token]")[0].value,notification:{category:i,note:angular.element(e.target).find('textarea[name="notification[note]"]')[0].value,user_id:angular.element(e.target).find('input[name="notification[user_id]"]')[0].value}},n({url:"/api/v1/notifications.json?user_id=:user_id".replace(":user_id",USER_ID),method:"post",data:a}).success(function(n){return n.success?(t.errors={},o(e)):t.errors=n.errors})},o=function(t){return angular.element(t.target).find('input[name="notification[category]"]:checked')[0].checked=!1,angular.element(t.target).find('textarea[name="notification[note]"]')[0].value=""},r()}]);